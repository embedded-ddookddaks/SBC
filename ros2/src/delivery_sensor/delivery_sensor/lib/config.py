"""
config.py

배달 로봇 설정 파일
기존 코드에서 재사용
"""

# ============================================================
# 정량 지표
# ============================================================

# 정량지표 2: 장애물(사람) 감지-정지 안전성
LIDAR_DANGER_DISTANCE = 3.0      # m - LiDAR 3m 이하 감지
ULTRASONIC_DANGER_DISTANCE = 1.0 # m - 초음파 1m 이하 감지
SAFE_RESUME_DISTANCE = 3.5       # m - 3.5m 이상 재주행

# 추가 안전 마진
LIDAR_WARNING_DISTANCE = 4.0     # m
ULTRASONIC_WARNING_DISTANCE = 1.5 # m

# ============================================================
# 센서 핀 설정 (라즈베리파이 GPIO)
# ============================================================

# 초음파 센서 (HY-SRF05)
ULTRA_FRONT_TRIG = 23
ULTRA_FRONT_ECHO = 24
ULTRA_LEFT_TRIG = 27
ULTRA_LEFT_ECHO = 22
ULTRA_RIGHT_TRIG = 17
ULTRA_RIGHT_ECHO = 18

# ============================================================
# LiDAR 설정
# ============================================================

LIDAR_PORT = '/dev/ydlidar'
LIDAR_BAUDRATE = 128000  # X4 Pro

# ============================================================
# MCU UART 설정
# ============================================================

MCU_PORT = '/dev/serial0'  # 라즈베리파이 하드웨어 UART
MCU_BAUD = 115200

# ============================================================
# 제어 주기
# ============================================================

SENSOR_READ_INTERVAL = 0.05  # 20Hz
STATUS_PRINT_INTERVAL = 1.0  # 1Hz

# ============================================================
# 센서 융합
# ============================================================

# 칼만 필터
KALMAN_PROCESS_VAR = 0.01
KALMAN_MEASURE_VAR = 0.05

# 신뢰도
MIN_CONFIDENCE = 0.5

# ============================================================
# 장애물 분석
# ============================================================

MIN_DISTANCE_CHANGE = 0.05  # m (속도 계산 최소 변화)
VELOCITY_THRESHOLD = 0.1    # m/s (동적 판단)
TTC_WARNING = 5.0           # 초 (충돌 시간 경고)

# ============================================================
# 안전 제어
# ============================================================

SLOW_SPEED_RATIO = 0.3      # 경고 시 30% 속도
DECELERATION_RATE = 2.0     # m/s^2
MIN_STOP_DURATION = 0.5     # 초 (최소 정지 시간)
